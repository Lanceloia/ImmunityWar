using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public enum GridsType
{
    None = 0,
    StartGrid = 1,
    MainWayGrid = 2,
    ImmuneCellGrid = 3,
    PathogenGrid = 4,
    AccessRoadGrid = 5,
    HistiocyteGrid = 6,
}

public enum ShapeType
{
    SmallSquare = 0,    //1x1?????
    UpTriangle = 1,   // 2x1?????,???????????????
    
    DownTriangle = 2,   // 1x2?????,???????????????

    BigSquare = 3,
}

public enum Direction
{
    TopLeft = 0,
    TopRight = 1,
    BottomRight = 2,
    BottomLeft = 3
}

abstract public class Grids : MonoBehaviour
{
    // ??????
    public GridsType type;   // ?????????
    public ShapeType shape;      // ????????//?????
    public Position p;             // ?????????????????????
    public int x, y;               // ??????????????????

    public HashSet<GameObject> immuneCells = new HashSet<GameObject>();     // ??????????????????????

    public Direction next;         // ?????????????
    public Direction pre;
    public bool accessRoad;        // ???????¡¤
    public Direction accessRoadNext; // ?¡¤???????????????
    bool canActiveStay;              // ??????????????

    public bool nearHistiocyte;//????????????
    public Direction HistiocyteNext;//??????????

    // List of ImmuneCells    // ????§Ò????????????????§Ò??§Ö???????????¦¶??

    // ???????????????
    public abstract void onStemCellPassBy(GameObject stemCell);


    // ?????????????
    public abstract IEnumerator onStemCellStay();

    // ??????????????
    public abstract void onPathogenCellPassBy(GameObject pathogen);

    // ????????????
    public abstract void onPathogenCellStay(GameObject pathogen);
    private void Awake()
    {
        p.x = x;
        p.y = y;
    }

    // Start is called before the first frame update
    void Start()
    {

    }

    // Update is called once per frame
    void Update()
    {

    }
}